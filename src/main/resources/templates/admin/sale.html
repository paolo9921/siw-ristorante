<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/admin_base.html :: head"></head>
<head>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
	crossorigin="anonymous">
<link th:href="@{/css/admin/prenotazioni.css}" rel="stylesheet" />
<title>admin page</title>
</head>

<body>
	<div id="container">
	<header th:replace="fragments/admin_base.html :: header"></header>

		<h2 id="titolo">sale:</h2>


		<table class="table table-striped table-dark table-hover">
			<thead>
				<tr>
					<th scope="col">Nome</th>
					<th scope="col">Posti Totali</th>
					<th scope="col">
					<th scope="col">
					
				</tr>
			</thead>
			<tbody>
				<tr th:each="sala : ${sale}">
					<td th:text="${sala.nome}"></td>
					<td th:text="${sala.postiTotali}"></td>
					<td><a th:href="@{'/sale/modifica'+'/'+${sala.id}}">Modifica</a></td>
					<td th:if="${sala.attiva}"><a th:href="@{'/sale/delete'+'/'+${sala.id}}">Disattiva</a></td>
					<td th:unless="${sala.attiva}"><a th:href="@{'/sale/delete'+'/'+${sala.id}}">Attiva</a></td>
					
				</tr>

			</tbody>
		</table>
		
		
		<!--  MODIFICA SALA  -->
		<form th:if="${modif}" th:action="@{/admin/modificaSala}" method="POST" th:object="${sala}">
				<h1>Modifica sala</h1>
				<div th:if="${#fields.hasGlobalErrors()}">
					<p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p>
				</div>

				<h2 class="errore" th:if="${#fields.hasErrors('nome')}"
					th:errors="*{nome}"></h2>
					
				<input type="hidden" th:field="*{id}" th:value="*{id}"/>
				 <strong>Nome:</strong> <input type="text" th:field="*{nome}" /> <br> 
				 
				 <strong>Posti Totali:</strong><input type="text" th:field="*{postiTotali}" /> <br>
			
				<button type="submit">Conferma</button>
			</form>
		
		<!--  AGGIUNGI SALA  -->
		<form th:unless="${modif}" th:action="@{/admin/addSala}" method="POST" th:object="${sala}">
				<h1>Aggiungi sala</h1>
				<div th:if="${#fields.hasGlobalErrors()}">
					<p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p>
				</div>

				<span class="errore" th:if="${#fields.hasErrors('nome')}"
					th:errors="*{nome}"></span>
					
				
				 <strong>Nome:</strong> <input type="text" th:field="*{nome}" /> <br> 
				 
				 <strong>Posti Totali:</strong><input type="text" th:field="*{postiTotali}" /> <br>
			
				<button type="submit">Conferma</button>
			</form>
			

			
			
		
		</div>



	<footer th:replace="fragments/admin_base.html :: footer"></footer>
</body>
</html>